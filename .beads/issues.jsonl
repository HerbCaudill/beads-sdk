{"id":"bd-1qz","title":"toIssue: derive parent field from parent-child dependencies","description":"The Issue type has a parent?: string field (types.ts:35), but toIssue() in jsonl.ts:288-309 never sets it. The parent-child relationship is stored in the dependencies array with type 'parent-child', but the convenience parent field isn't derived from that data. Fix: add parent: (raw.dependencies ?? []).find(d =\u003e d.type === 'parent-child')?.depends_on_id to toIssue(). The daemon (Rust side) likely has the same issue â€” it also doesn't return a parent field in its JSON response.","status":"open","priority":1,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T20:21:47.328031+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T20:21:47.328031+01:00"}
{"id":"bd-3ex","title":"JsonlTransport: dependency count fallback tests fail","description":"Three tests in jsonl.test.ts fail: 'computes fallback dependency_count for linked issues when raw field is missing', 'computes fallback dependent_count for dependent entries when raw field is missing', and 'returns consistent counts between top-level and linked views'. LinkedIssue dependency_count/dependent_count default to 0 instead of being computed from the dependency graph.","status":"closed","priority":2,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T18:18:16.104367+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T18:21:25.086937+01:00","closed_at":"2026-02-11T18:21:25.086937+01:00","close_reason":"Closed"}
{"id":"bd-6en","title":"BeadsClient: make connect() idempotent and leak-safe","description":"Calling `connect()` more than once can leak previous pollers/watchers and duplicate `onChange` notifications because previous resources are not cleaned up before replacing transport references.\n\nObserved in `/src/client.ts` connect path.","acceptance_criteria":"1. Repeated `connect()` calls do not leak intervals/watchers.\n2. Change callbacks fire once per data change after reconnect.\n3. Add regression tests that call `connect()` multiple times and verify cleanup behavior.","status":"closed","priority":1,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T18:09:10.928492+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T18:20:55.546892+01:00","closed_at":"2026-02-11T18:20:55.546892+01:00","close_reason":"Closed","labels":["bug","code-review","p1"]}
{"id":"bd-6ib","title":"BeadsClient: reconnect test fails - onChange subscribers not preserved","description":"The test 'preserves onChange subscribers across reconnect' in client.test.ts fails. After reconnecting, the onChange callback's call count is 0, expected \u003e= 1. This was introduced alongside the reconnect idempotency tests.","status":"closed","priority":2,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T18:20:01.585885+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T18:21:25.279156+01:00","closed_at":"2026-02-11T18:21:25.279156+01:00","close_reason":"Closed"}
{"id":"bd-ni5","title":"ChangePoller: prevent overlapping poll races","description":"`ChangePoller` can execute concurrent polls when a request takes longer than the interval. Out-of-order responses can overwrite `lastHash` and produce false or missed change notifications.\n\nObserved in `/src/poller.ts` around `setInterval(() =\u003e this.poll(), intervalMs)` and `lastHash` updates.","acceptance_criteria":"1. Polling never overlaps (at most one in-flight `stats` request).\n2. `lastHash` updates are monotonic with respect to poll order.\n3. Add tests proving no duplicate/spurious notifications under slow responses.","status":"closed","priority":1,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T18:08:52.37702+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T18:20:11.840505+01:00","closed_at":"2026-02-11T18:20:11.840505+01:00","close_reason":"Closed","labels":["bug","code-review","p1"]}
{"id":"bd-reb","title":"DaemonTransport: EOF-terminated response tests fail with timeout","description":"Several tests in daemon.test.ts fail because EOF-terminated responses hit the 2000ms timeout instead of being parsed or producing framing errors. Affected tests: 'parses an EOF-terminated response', 'rejects with framing error when socket closes with incomplete JSON', 'rejects with framing error when socket closes with empty response', 'parses response sent in multiple chunks without trailing newline', 'does not time out for EOF-terminated responses'.","status":"closed","priority":2,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T18:18:14.096731+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T18:21:24.89413+01:00","closed_at":"2026-02-11T18:21:24.89413+01:00","close_reason":"Closed"}
{"id":"bd-rnx","title":"DaemonTransport: handle response framing and socket close correctly","description":"`DaemonTransport` currently parses only after a newline is seen. If the socket closes with buffered data but no newline, the request can degrade to a timeout and surface a misleading error.\n\nObserved in `/src/transport/daemon.ts` read/parse flow.","acceptance_criteria":"1. Parse final buffered response on `end`/`close` when possible.\n2. Fail fast with a clear framing/EOF error when response is incomplete.\n3. Add tests for newline-terminated, EOF-terminated, and malformed responses.","status":"closed","priority":2,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T18:09:34.169771+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T18:19:22.383097+01:00","closed_at":"2026-02-11T18:19:22.383097+01:00","close_reason":"Closed","labels":["bug","code-review","p2"]}
{"id":"bd-xh5","title":"JsonlTransport: fix linked issue count fallbacks","description":"In JSONL fallback mode, top-level issues compute fallback `dependency_count`/`dependent_count`, but linked/dependent issue entries default missing counts to `0`. This produces inconsistent graph metadata in `show` responses.\n\nObserved in `/src/transport/jsonl.ts` linked/dependent builders.","acceptance_criteria":"1. Linked issue and dependent entries compute the same fallback logic as top-level issues.\n2. Responses are internally consistent when raw count fields are missing.\n3. Add tests covering missing-count JSONL records.","status":"closed","priority":2,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-02-11T18:09:29.04513+01:00","created_by":"Herb Caudill","updated_at":"2026-02-11T18:18:54.880206+01:00","closed_at":"2026-02-11T18:18:54.880206+01:00","close_reason":"Closed","labels":["bug","code-review","p2"]}
